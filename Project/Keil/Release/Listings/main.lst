C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Release\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\..\User\main.c LARGE OPTIMIZE(9,SIZE) BROWSE ORDER INTVECTOR(0X000C) 
                    -INCDIR(..\..\Libraries\Include;..\..\User;..\..\User\lib;..\..\Hardware) INTERVAL(3) DEBUG OBJECTEXTEND PRINT(.\Release\
                    -Listings\main.lst) OBJECT(.\Release\Objects\main.obj)

line level    source

   1          /**
   2           ******************************************************************************
   3           * @file    main.c
   4           * @author  HUGE-IC Application Team
   5           * @version V1.0.0
   6           * @date    05-11-2022
   7           * @brief   Main program body
   8           ******************************************************************************
   9           * @attention
  10           *
  11           * <h2><center>&copy; COPYRIGHT 2021 HUGE-IC</center></h2>
  12           *
  13           * ÁâàÊùÉËØ¥ÊòéÂêéÁª≠Ë°•‰∏ä
  14           *
  15           ******************************************************************************
  16           */
  17          
  18          /* Includes ------------------------------------------------------------------*/
  19          #include "include.h"
  20          #include "my_config.h"
  21          
  22          #if 0
              
              // Êõ¥Êñ∞Êó∂Èó¥
              // void time_update(void)
              // {
              //     if (tmr4_cnt >= 1000) // Â¶ÇÊûúËÆ°Êó∂Êª°1s(1000ms)
              //     {
              //         tmr4_cnt -= 1000; // ‰∏∫‰∫ÜÂ∞ΩÈáèËÆ©Êó∂Èó¥ÂáÜÁ°ÆÔºåËøôÈáåÊòØ -=1000 ÔºåËÄå‰∏çÊòØÊ∏ÖÈõ∂
              
              //         if (fun_info.save_info.time_sec < 59) // ÊúÄÂ§ßÂä†Âà∞59sÔºåÊµãËØïÈÄöËøá
              //         {
              //             fun_info.save_info.time_sec++;
              //         }
              //         else
              //         {
              //             fun_info.save_info.time_sec = 0;
              //             fun_info_save(); // ÊØèÂàÜÈíü‰øùÂ≠ò‰∏ÄÊ¨°Êó∂Èó¥Âà∞flash
              
              //             // printf("cur min %d \n", (u16)fun_info.time_min);
              
              //             if (fun_info.save_info.time_min < 59) // ÊúÄÂ§ßÂä†Âà∞59minÔºåÊµãËØïÈÄöËøá
              //             {
              //                 fun_info.save_info.time_min++;
              //             }
              //             else
              //             {
              //                 fun_info.save_info.time_min = 0;
              //                 // printf("cur hour %d \n", (u16)fun_info.time_hour);
              
              //                 if (fun_info.save_info.time_hour < 23) // ÊúÄÂ§ßÂä†Âà∞23hÔºåÊµãËØïÈÄöËøá
              //                 {
              //                     fun_info.save_info.time_hour++;
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 2   

              //                 }
              //                 else
              //                 {
              //                     // Âä†Âà∞ 23:59:59 ÂêéÔºåÂ∞ÜÊó∂Èó¥ÂÖ®ÈÉ®Ê∏ÖÈõ∂
              //                     fun_info.save_info.time_hour = 0;
              //                     fun_info.save_info.time_min = 0;
              //                     fun_info.save_info.time_sec = 0;
              //                 }
              //             }
              //         }
              
              // #if USE_MY_DEBUG // ÊµãËØïÂçïÁâáÊú∫ÂèëÈÄÅÁöÑÊï∞ÊçÆ
              //         // printf("cur sec %d \n", (u16)fun_info.time_sec);
              
              //         // ÊµãËØïÁî®ÔºåÂèØ‰ª•Âú®ËøôÈáå‰øÆÊîπÊï∞ÊçÆÔºåÁÑ∂ÂêéÂèëÈÄÅ
              //         {
              //             /*
              //                 #define TEST_SEND_BATTERY // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_BRAKE // MP5‰∏äÈù¢Ê≤°ÊúâÊòæÁ§∫Ôºå‰∏≤Âè£ÊúâÂèëÈÄÅÂØπÂ∫îÁöÑÊï∞ÊçÆ
              //                 #define TEST_SEND_LEFT_TURN // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_RIGHT_TURN // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_HIGH_BEAM // ÊµãËØïÈÄöËøá
              
              //                 #define TEST_SEND_SPEED // ÊµãËØïÈÄöËøáÔºå‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÊó∂ÈÄüÁöÑÊòæÁ§∫ËåÉÂõ¥
              //                 #define TEST_SEND_ENGINE_SPEED // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_FUEL // ÊµãËØïÈÄöËøá
              
              //                 #define TEST_SEND_TEMP_OF_WATER // Ê≤°ÊúâÊòæÁ§∫ÔºåÊîπÁî®Ê∞¥Ê∏©Êä•Ë≠¶
              //                 #define TEST_SEND_TOTAL_MILEAGE // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_SUBTOTAL_MILEAGE // ÊµãËØïÈÄöËøá
              
              //                 #define TEST_SEND_TOUCH_KEY
              //                 #define TEST_SEND_TEMP_OF_WATER_WARNING // ÊµãËØïÈÄöËøá
              //                 #define TEST_SEND_VOLTAGE_OF_BATTERY // ÊµãËØïÈÄöËøá
              //             */
              
              //             // #define TEST_SEND_VOLTAGE_OF_BATTERY
              
              // #ifdef TEST_SEND_BATTERY
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅÁîµÊ±†ÁîµÈáè--Âçï‰ΩçÔºöÁôæÂàÜÊØî
              //             if (fun_info.battery < 100)
              //             {
              //                 fun_info.battery++;
              //             }
              //             else
              //             {
              //                 fun_info.battery = 0;
              //             }
              
              //             // printf("cur battery %d \%\n", (u16)fun_info.battery);
              //             flag_get_battery = 1;
              // #endif
              
              // #ifdef TEST_SEND_BRAKE
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ ÂàπËΩ¶Áä∂ÊÄÅ
              //             if (fun_info.brake)
              //             {
              //                 fun_info.brake = 0;
              //             }
              //             else
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 3   

              //             {
              //                 fun_info.brake = 1;
              //             }
              
              //             flag_get_brake = 1;
              // #endif
              
              // #ifdef TEST_SEND_LEFT_TURN
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Â∑¶ËΩ¨ÂêëÁÅØ
              //             if (fun_info.left_turn)
              //             {
              //                 fun_info.left_turn = 0;
              //             }
              //             else
              //             {
              //                 fun_info.left_turn = 1;
              //             }
              
              //             flag_get_left_turn = 1;
              // #endif
              
              // #ifdef TEST_SEND_RIGHT_TURN
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Âè≥ËΩ¨ÂêëÁÅØ
              //             if (fun_info.right_turn)
              //             {
              //                 fun_info.right_turn = 0;
              //             }
              //             else
              //             {
              //                 fun_info.right_turn = 1;
              //             }
              
              //             flag_get_right_turn = 1;
              // #endif
              
              // #ifdef TEST_SEND_HIGH_BEAM
              //             // #if 1
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ ËøúÂÖâÁÅØ Áä∂ÊÄÅ
              //             if (fun_info.high_beam)
              //             {
              //                 fun_info.high_beam = 0;
              //             }
              //             else
              //             {
              //                 fun_info.high_beam = 1;
              //             }
              
              //             flag_get_high_beam = 1;
              // #endif
              
              // #ifdef TEST_SEND_SPEED
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Êó∂ÈÄü
              //             if (fun_info.speed < 0xFFFF)
              //             {
              //                 fun_info.speed++;
              //             }
              //             else
              //             {
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 4   

              //                 fun_info.speed = 0;
              //             }
              
              //             flag_get_speed = 1;
              // #endif
              
              // #ifdef TEST_SEND_ENGINE_SPEED
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ ÂèëÂä®Êú∫ËΩ¨ÈÄü
              //             if (fun_info.engine_speeed < (0xFFFF - 1000))
              //             {
              //                 fun_info.engine_speeed += 1000;
              //             }
              //             else
              //             {
              //                 fun_info.engine_speeed = 1000;
              //             }
              
              //             flag_get_engine_speed = 1;
              // #endif
              
              // #ifdef TEST_SEND_FUEL
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Ê≤πÈáè
              //             if (fun_info.fuel < 0xFF)
              //             {
              //                 fun_info.fuel++;
              //             }
              //             else
              //             {
              //                 fun_info.fuel = 0;
              //             }
              
              //             flag_get_fuel = 1;
              
              // #endif
              
              // #ifdef TEST_SEND_TEMP_OF_WATER
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Ê∞¥Ê∏©
              //             if (fun_info.temp_of_water < 0xFF)
              //             {
              //                 fun_info.temp_of_water++;
              //             }
              //             else
              //             {
              //                 fun_info.temp_of_water = 0;
              //             }
              
              //             flag_get_temp_of_water = 1;
              // #endif
              
              // #ifdef TEST_SEND_TOTAL_MILEAGE
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Â§ßËÆ°ÈáåÁ®ã
              //             // fun_info.save_info.total_mileage = 90000;
              //             if (fun_info.save_info.total_mileage < (0xFFFFFFFF - 1000))
              //             {
              //                 fun_info.save_info.total_mileage += 1000;
              //             }
              //             else
              //             {
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 5   

              //                 fun_info.save_info.total_mileage = 0xFFFF0000;
              //             }
              
              //             flag_get_total_mileage = 1;
              
              // #endif
              
              // #ifdef TEST_SEND_SUBTOTAL_MILEAGE
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Â∞èËÆ°ÈáåÁ®ã
              //             if (fun_info.save_info.subtotal_mileage < 1000)
              //             {
              //                 fun_info.save_info.subtotal_mileage++;
              //             }
              //             else
              //             {
              //                 fun_info.save_info.subtotal_mileage = 0;
              //             }
              
              //             flag_get_sub_total_mileage = 1;
              // #endif
              
              // #ifdef TEST_SEND_TEMP_OF_WATER_WARNING
              //             // =============================================
              //             // ÊµãËØïÂèëÈÄÅ Ê∞¥Ê∏©Êä•Ë≠¶
              
              //             if (fun_info.flag_is_in_water_temp_warning)
              //             {
              //                 fun_info.flag_is_in_water_temp_warning = 0;
              //             }
              //             else
              //             {
              //                 fun_info.flag_is_in_water_temp_warning = 1;
              //             }
              
              //             flag_set_temp_of_water_warning = 1;
              // #endif
              
              // #ifdef TEST_SEND_VOLTAGE_OF_BATTERY
              //             // ÊµãËØï ÂèëÈÄÅÁîµÊ±†ÁîµÂéã
              //             if (fun_info.voltage_of_battery < (0xFFFF - 10))
              //             {
              //                 fun_info.voltage_of_battery += 10;
              //             }
              //             else
              //             {
              //                 fun_info.voltage_of_battery = 10000;
              //             }
              
              //             flag_get_voltage_of_battery = 1;
              // #endif
              //         }
              
              // #endif // #if USE_MY_DEBUG // ÊµãËØïÂçïÁâáÊú∫ÂèëÈÄÅÁöÑÊï∞ÊçÆ
              //     }
              // }
              #endif
 297          
 298          void user_init(void)
 299          {
 300   1      
 301   1      #if USE_MY_DEBUG
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 6   

              
                  uart1_config();
              
              #endif
 306   1      
 307   1          // ÊéßÂà∂‰∏äÁîµÊåáÁ§∫ÁÅØÁöÑÂºïËÑöÔºö
 308   1          P2_MD0 &= ~(GPIO_P23_MODE_SEL(0x03)); // Ê∏ÖÁ©∫ÂØÑÂ≠òÂô®ÈÖçÁΩÆ
 309   1          P2_MD0 |= GPIO_P23_MODE_SEL(0x01);    // ËæìÂá∫Ê®°Âºè
 310   1          FOUT_S23 |= GPIO_FOUT_AF_FUNC;
 311   1      
 312   1          fun_info_init(); // ÂàùÂßãÂåñÁî®‰∫éÂ≠òÊîæ‰ø°ÊÅØÁöÑÂèòÈáè
 313   1      
 314   1          tmr0_config();           // ‰∏≤Âè£Ê£ÄÊµãÊï∞ÊçÆË∂ÖÊó∂ÈúÄË¶Å‰ΩøÁî®Âà∞ÁöÑÂÆöÊó∂Âô®
 315   1          uart0_config();          // ÂèëÈÄÅÂíåÊé•Êî∂Êåá‰ª§‰ΩøÁî®Âà∞ÁöÑ‰∏≤Âè£
 316   1          pin_level_scan_config(); // ÂàπËΩ¶„ÄÅËΩ¨ÂêëÁÅØ„ÄÅÊå°‰ΩçÁöÑÊ£ÄÊµãÂºïËÑöÈÖçÁΩÆ
 317   1      
 318   1          tmr1_config(); // Ê£ÄÊµã‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑËÑâÂÜ≤‰∏™Êï∞ÊâÄÈúÄÁöÑÂÆöÊó∂Âô®(Áî®‰∫éËÆ°Êó∂)
 319   1      
 320   1          speed_scan_config();        // Êó∂ÈÄüÊâ´ÊèèÁöÑÈÖçÁΩÆ
 321   1          engine_speed_scan_config(); // ÂèëÂä®Êú∫ËΩ¨ÈÄüÊâ´ÊèèÁöÑÈÖçÁΩÆ
 322   1      
 323   1          adc_config();
 324   1      
 325   1          tk_param_init();  // Ëß¶Êë∏ÊåâÈîÆÊ®°ÂùóÂàùÂßãÂåñ
 326   1          aip1302_config(); // ÂàùÂßãÂåñÊó∂ÈíüicÔºåÂáΩÊï∞ÂÜÖÈÉ®‰ºöËØªÂèñÊó∂Èó¥‰ø°ÊÅØÔºåÂπ∂Â≠òÊîæÂà∞ÂÖ®Â±ÄÂèòÈáè‰
             -∏≠
 327   1          tmr2_config();    // Êâ´ÊèèËÑâÂÜ≤(ÁîµÂπ≥ÂèòÂåñ)ÁöÑÂÆöÊó∂Âô®
 328   1      
 329   1          tmr1_enable(); // ÊâìÂºÄ Ê£ÄÊµãÂºïËÑöÁîµÂπ≥„ÄÅÊ£ÄÊµãÊó∂ÈÄü„ÄÅÂèëÂä®Êú∫ËΩ¨ÈÄü„ÄÅÊõ¥Êñ∞ÈáåÁ®ã„ÄÅÂÆöÊó∂Ê£
             -ÄÊµãÊ≤πÈáè ‰ΩøÁî®ÁöÑÂÆöÊó∂Âô®
 330   1          tmr2_enable(); // ÊâìÂºÄÂÆöÊó∂Ê£ÄÊµãËÑâÂÜ≤ÁöÑÂÆöÊó∂Âô®
 331   1      
 332   1          // delay_ms(10); // Á≠âÂæÖÁ≥ªÁªüÁ®≥ÂÆö
 333   1          // tk_param_init();  // Ëß¶Êë∏ÊåâÈîÆÊ®°ÂùóÂàùÂßãÂåñ
 334   1          delay_ms(1); // Á≠âÂæÖÁ≥ªÁªüÁ®≥ÂÆö
 335   1          // delay_ms(2000); // Á≠âÂæÖÁ≥ªÁªüÁ®≥ÂÆö
 336   1      }
 337          
 338          void main(void)
 339          {
 340   1          // ÁúãÈó®ÁãóÈªòËÆ§ÊâìÂºÄ, Â§ç‰ΩçÊó∂Èó¥2s
 341   1          system_init();
 342   1      
 343   1          // WDT_KEY = WDT_KEY_VAL(0xDD); //  ÂÖ≥Èó≠ÁúãÈó®Áãó
 344   1      
 345   1          // ÂÖ≥Èó≠HCKÂíåHDAÁöÑË∞ÉËØïÂäüËÉΩ
 346   1          WDT_KEY = 0x55;  // Ëß£Èô§ÂÜô‰øùÊä§
 347   1          IO_MAP &= ~0x01; // Ê∏ÖÈô§Ëøô‰∏™ÂØÑÂ≠òÂô®ÁöÑÂÄºÔºåÂÆûÁé∞ÂÖ≥Èó≠HCKÂíåHDAÂºïËÑöÁöÑË∞ÉËØïÂäüËÉΩÔºàËß£Èô§Ê
             -ò†Â∞ÑÔºâ
 348   1          WDT_KEY = 0xBB;
 349   1      
 350   1          /* Áî®Êà∑‰ª£Á†ÅÂàùÂßãÂåñÊé•Âè£ */
 351   1          user_init();
 352   1      
 353   1          // ÊµãËØïÁî®Âà∞ÁöÑÈÖçÁΩÆÔºö
 354   1          // P1_MD0 &= (~GPIO_P11_MODE_SEL(0x3));
 355   1          // P1_MD0 |= GPIO_P11_MODE_SEL(0x1); // ËæìÂá∫Ê®°Âºè
 356   1          // FOUT_S11 |= GPIO_FOUT_AF_FUNC;
 357   1          // P11 = 0;
 358   1          // P2_MD0 &= ~GPIO_P20_MODE_SEL(0x3); // Ê∏ÖÁ©∫ÂØπÂ∫îÁöÑÈÖçÁΩÆ
 359   1          // P2_MD0 |= GPIO_P20_MODE_SEL(0x1);  // ËæìÂá∫Ê®°Âºè
 360   1          // FOUT_S20 |= GPIO_FOUT_AF_FUNC;
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 7   

 361   1          // P20 = 0;
 362   1      
 363   1          // printf("sys reset\n");
 364   1      
 365   1          // ‰∏äÁîµÂêéÔºåÈúÄË¶ÅÁÇπ‰∫Æ‰∏Ä‰∏ãÊâÄÊúâÁöÑÊåáÁ§∫ÁÅØÔºåÂÜçÂÖ≥Èó≠:
 366   1          P23 = 1;
 367   1          delay_ms(1000);
 368   1          P23 = 0;
 369   1      
 370   1          // printf("scan_times %bu\n", ad_key_para.scan_times);
 371   1          // printf("cur_scan_times %bu\n", ad_key_para.cur_scan_times);
 372   1          // printf("last_key %bu\n", ad_key_para.last_key);
 373   1          // printf("filter_value %bu\n", ad_key_para.filter_value);
 374   1          // printf("filter_cnt %bu\n", ad_key_para.filter_cnt);
 375   1          // printf("filter_time %bu\n", ad_key_para.filter_time);
 376   1          // printf("long_time %bu\n", ad_key_para.long_time);
 377   1          // printf("hold_time %bu\n", ad_key_para.hold_time);
 378   1          // printf("press_cnt %bu\n", ad_key_para.press_cnt);
 379   1      
 380   1          // printf("click_cnt %bu\n", ad_key_para.click_cnt);
 381   1          // printf("click_delay_cnt %bu\n", ad_key_para.click_delay_cnt);
 382   1          // printf("click_delay_time %bu\n", ad_key_para.click_delay_time);
 383   1          // printf("notify_value %bu\n", ad_key_para.notify_value);
 384   1          // printf("key_type %bu\n", ad_key_para.key_type);
 385   1      
 386   1          // printf("latest_key_val %bu\n", ad_key_para.latest_key_val);
 387   1          // printf("latest_key_event %bu\n", ad_key_para.latest_key_event);
 388   1      
 389   1          // printf("size %bu\n", (u8)sizeof(struct key_driver_para_t *));
 390   1          // printf("addr %p\n", (void *)&ad_key_para);
 391   1      
 392   1      #if 0  // ÊµãËØïÂèëÈÄÅÊó•ÊúüÂíåÊó∂Èó¥
                  // ÂΩìÂâçÊó•Êúü
                  fun_info.aip1302_saveinfo.year = 2024;
                  fun_info.aip1302_saveinfo.month = 12;
                  fun_info.aip1302_saveinfo.day = 05;
              
                  // ÂΩìÂâçÊó∂Èó¥
                  fun_info.aip1302_saveinfo.time_hour = 13;
                  fun_info.aip1302_saveinfo.time_min = 45;
                  fun_info.aip1302_saveinfo.time_sec = 32;
              
                  aip1302_update_all_data(fun_info.aip1302_saveinfo);
              
                  printf("year %u month %bu day %bu \n", fun_info.aip1302_saveinfo.year, fun_info.aip1302_saveinfo.month
             -, fun_info.aip1302_saveinfo.day);
                  printf("hour %bu min %bu sec %bu \n", fun_info.aip1302_saveinfo.time_hour, fun_info.aip1302_saveinfo.t
             -ime_min, fun_info.aip1302_saveinfo.time_sec);
              #endif // ÊµãËØïÂèëÈÄÅÊó•ÊúüÂíåÊó∂Èó¥
 408   1      
 409   1          // printf("sys reset\n");
 410   1      
 411   1          // ÊµãËØïÁ®ãÂ∫èÔºö
 412   1          // fun_info.save_info.total_mileage = (u32)999970 * 1000;
 413   1          // // fun_info.save_info.subtotal_mileage = (u32)999970 * 100;
 414   1          // fun_info.save_info.subtotal_mileage = (u32)99997 * 100;
 415   1          // // fun_info.save_info.subtotal_mileage = (u32)10051 * 100;
 416   1          // fun_info.save_info.subtotal_mileage_2 = (u32)999970 * 100;
 417   1      
 418   1          /* Á≥ªÁªü‰∏ªÂæ™ÁéØ */
 419   1          while (1)
 420   1          {
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 8   

 421   2              // printf("main circle\n");
 422   2      
 423   2      #if USE_MY_DEBUG
              
                      // if (flag_is_printf_time)
                      // {
                      //     flag_is_printf_time = 0;
                      //     aip1302_read_all();
                      //     printf("year %u \n", fun_info.aip1302_saveinfo.year);
                      //     printf("month %bu \n", fun_info.aip1302_saveinfo.month);
                      //     printf("day %bu \n", fun_info.aip1302_saveinfo.day);
                      //     printf("hour %bu \n", fun_info.aip1302_saveinfo.time_hour);
                      //     printf("min %bu \n", fun_info.aip1302_saveinfo.time_min);
                      //     printf("sec %bu \n", fun_info.aip1302_saveinfo.time_sec);
                      // }
              
              #endif
 438   2      
 439   2      #if 1
 440   2              WDT_KEY = WDT_KEY_VAL(0xAA); // ÂñÇÁãóÂπ∂Ê∏ÖÈô§ wdt_pending
 441   2              /* ÊåâÈîÆÊâ´ÊèèÂáΩÊï∞ */
 442   2              __tk_scan();                 // ‰ΩøÁî®‰∫ÜÂ∫ìÈáåÈù¢ÁöÑÊé•Âè£ÔºàÈó≠Ê∫êÂ∫ìÔºâ
 443   2              WDT_KEY = WDT_KEY_VAL(0xAA); // ÂñÇÁãóÂπ∂Ê∏ÖÈô§ wdt_pending
 444   2      
 445   2              key_driver_scan(&ad_key_para);
 446   2              ad_key_handle(); // adÊåâÈîÆÂ§ÑÁêÜÂáΩÊï∞
 447   2      
 448   2              key_driver_scan(&touch_key_para);
 449   2              touch_key_handle(); // Ëß¶Êë∏ÊåâÈîÆÂ§ÑÁêÜÂáΩÊï∞
 450   2      
 451   2              speed_scan();   // Ê£ÄÊµãÊó∂ÈÄü
 452   2              mileage_scan(); // Ê£ÄÊµãÂ§ßËÆ°ÈáåÁ®ãÂíåÂ∞èËÆ°ÈáåÁ®ã
 453   2      
 454   2              engine_speed_scan();  // Ê£ÄÊµãÂèëÂä®Êú∫ËΩ¨ÈÄü
 455   2              fuel_capacity_scan(); // Ê≤πÈáèÊ£ÄÊµã
 456   2      
 457   2              battery_scan(); // ÁîµÊ±†ÁîµÈáèÊ£ÄÊµã
 458   2      
 459   2              uart0_scan_handle();  // Ê£ÄÊü•‰∏≤Âè£Êé•Êî∂ÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÊòØÂê¶Á¨¶ÂêàÂçèËÆÆ,Â¶ÇÊûúÊúâÊ≠£Á°ÆÁöÑ
             -Êåá‰ª§Ôºå‰ºöÂ≠òÂà∞Âè¶‰∏Ä‰∏™ÁºìÂÜ≤Âå∫‰∏≠ÔºàÊé•‰∏ãÊù•ËÆ©instruction_scan()ÂáΩÊï∞Êù•Â§ÑÁêÜÔºâ
 460   2              instruction_scan();   // Êâ´ÊèèÊòØÂê¶ÊúâÂêàÊ≥ïÁöÑÊåá‰ª§
 461   2              instruction_handle(); // Êâ´ÊèèÊòØÂê¶ÊúâÂØπÂ∫îÁöÑËé∑Âèñ/Áä∂ÊÄÅÊõ¥Êñ∞Êìç‰Ωú(ÊúÄÂç†Áî®Êó∂Èó¥,Âõ†‰∏∫Ë
             -¶ÅÁ≠âÂæÖ‰∏≤Âè£ÁöÑÊï∞ÊçÆÂèëÈÄÅÂÆåÊàê)
 462   2      
 463   2      #endif //
 464   2      
 465   2              // aip1302_test();
 466   2              // {
 467   2              //     u8 ret = 0;
 468   2              //     ret = aip1302_is_running();
 469   2              //     if (ret)
 470   2              //     {
 471   2              //         // Â¶ÇÊûúÊó∂ÈíüËäØÁâáaip1302ÁöÑÊô∂ÊåØÊ≠£Âú®ËøêË°å
 472   2              //         printf("aip1302 is running\n");
 473   2              //     }
 474   2              //     else
 475   2              //     {
 476   2              //         // Â¶ÇÊûúÊó∂ÈíüËäØÁâáaip1302ÁöÑÊô∂ÊåØ‰∏çÂú®ËøêË°å
 477   2              //         printf("aip1302 is sleep\n");
 478   2              //     }
 479   2              // }
 480   2      
C51 COMPILER V9.60.7.0   MAIN                                                              07/11/2025 11:11:28 PAGE 9   

 481   2              // AIP1302_CE_PIN = 1;
 482   2              // delay_ms(500);
 483   2              // AIP1302_CE_PIN = 0;
 484   2              // delay_ms(500);
 485   2      
 486   2              heart_beat_handle(); //
 487   2      
 488   2              WDT_KEY = WDT_KEY_VAL(0xAA); // ÂñÇÁãóÂπ∂Ê∏ÖÈô§ wdt_pending
 489   2          }
 490   1      }
 491          
 492          /**
 493           * @}
 494           */
 495          
 496          /*************************** (C) COPYRIGHT 2022 HUGE-IC ***** END OF FILE *****/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    156    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
